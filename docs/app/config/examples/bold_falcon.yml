title: Advanced Filtering
description: Complex queries with string patterns, numeric ranges, and logical operators
order: 4

scenarios:
  - title: List all articles
    description: Returns paginated article list
    order: 1
    method: GET
    path: /bold_falcon/articles
    setup:
      - create: article
        fields:
          title: Published Article
          status: published
      - create: article
        fields:
          title: Draft Article
          status: draft

  - title: Get article details
    description: Fetch a single article
    order: 2
    method: GET
    path: /bold_falcon/articles/:id
    setup:
      - create: article
        fields:
          title: Getting Started with Rails
          status: published

  - title: Create a new article
    description: Create article with all fields
    order: 3
    method: POST
    path: /bold_falcon/articles
    body:
      article:
        title: Getting Started with Rails
        body: A comprehensive guide to Ruby on Rails
        status: draft
        published_on: "2024-01-15"

  - title: Filter by status
    description: Filter articles where status equals published
    order: 4
    method: GET
    path: /bold_falcon/articles?filter[status][eq]=published
    setup:
      - create: article
        fields:
          title: Published Article
          status: published
      - create: article
        fields:
          title: Draft Article
          status: draft

  - title: Filter by title pattern
    description: Filter articles with title containing text
    order: 5
    method: GET
    path: /bold_falcon/articles?filter[title][contains]=Rails
    setup:
      - create: article
        fields:
          title: Getting Started with Rails
          status: published
      - create: article
        fields:
          title: Python Basics
          status: published

  - title: Sort by date
    description: Sort articles by published date descending
    order: 6
    method: GET
    path: /bold_falcon/articles?sort[published_on]=desc
    setup:
      - create: article
        fields:
          title: Old Article
          status: published
          published_on: "2024-01-01"
      - create: article
        fields:
          title: New Article
          status: published
          published_on: "2024-06-01"

  - title: Multiple sort fields
    description: Sort by status then date
    order: 7
    method: GET
    path: /bold_falcon/articles?sort[status]=asc&sort[published_on]=desc
    setup:
      - create: article
        fields:
          title: Draft 1
          status: draft
          published_on: "2024-01-01"
      - create: article
        fields:
          title: Published 1
          status: published
          published_on: "2024-02-01"
      - create: article
        fields:
          title: Draft 2
          status: draft
          published_on: "2024-03-01"

  - title: Filter by date range
    description: Articles published in date range
    order: 8
    method: GET
    path: /bold_falcon/articles?filter[published_on][gte]=2024-01-01&filter[published_on][lt]=2024-02-01
    setup:
      - create: article
        fields:
          title: January Article
          status: published
          published_on: "2024-01-15"
      - create: article
        fields:
          title: February Article
          status: published
          published_on: "2024-02-15"

  - title: Filter by view count
    description: Articles with more than 100 views
    order: 9
    method: GET
    path: /bold_falcon/articles?filter[view_count][gt]=100
    setup:
      - create: article
        fields:
          title: Popular Article
          status: published
          view_count: 500
      - create: article
        fields:
          title: New Article
          status: published
          view_count: 10

  - title: Combined filter and sort
    description: Filter by status and sort by views
    order: 10
    method: GET
    path: /bold_falcon/articles?filter[status][eq]=published&sort[view_count]=desc
    setup:
      - create: article
        fields:
          title: Popular Published
          status: published
          view_count: 1000
      - create: article
        fields:
          title: Draft Article
          status: draft
          view_count: 500
      - create: article
        fields:
          title: Less Popular Published
          status: published
          view_count: 100

  - title: Filter by category
    description: Filter through association
    order: 11
    method: GET
    path: /bold_falcon/articles?filter[category][name][eq]=Technology
    setup:
      - create: category
        fields:
          name: Technology
          slug: technology
      - create: article
        fields:
          title: Tech Article
          status: published
          category_id: :category_id
      - create: article
        fields:
          title: Uncategorized Article
          status: published
