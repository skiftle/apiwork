---
:openapi: 3.1.0
:info:
  :title: "/brave_eagle API"
  :version: 1.0.0
:paths:
  tasks/:
    get:
      :operationId: listTasks
      :summary: List all tasks
      :description: Returns a paginated list of tasks with optional filtering by status
        and priority
      :tags:
      - Tasks
      - Tasks
      - Core
      :parameters:
      - :in: query
        :name: filter
        :required: false
        :schema:
          :oneOf:
          - :$ref: "#/components/schemas/taskFilter"
          - :type: array
            :items:
              :$ref: "#/components/schemas/taskFilter"
      - :in: query
        :name: include
        :required: false
        :schema:
          :$ref: "#/components/schemas/taskInclude"
      - :in: query
        :name: page
        :required: false
        :schema:
          :$ref: "#/components/schemas/taskPage"
      - :in: query
        :name: sort
        :required: false
        :schema:
          :oneOf:
          - :$ref: "#/components/schemas/taskSort"
          - :type: array
            :items:
              :$ref: "#/components/schemas/taskSort"
      :responses:
        :200:
          :description: Successful response
          :content:
            :application/json:
              :schema:
                :type: object
                :properties:
                  meta:
                    :type: object
                    :properties: {}
                  pagination:
                    :$ref: "#/components/schemas/pagePagination"
                  tasks:
                    :type: array
                    :items:
                      :$ref: "#/components/schemas/task"
    post:
      :operationId: createTask
      :summary: Create a new task
      :description: Creates a task and returns the created resource
      :tags:
      - Tasks
      - Tasks
      :requestBody:
        :required: true
        :content:
          :application/json:
            :schema:
              :type: object
              :properties:
                task:
                  :$ref: "#/components/schemas/taskCreatePayload"
              :required:
              - task
      :responses:
        :200:
          :description: Successful response
          :content:
            :application/json:
              :schema:
                :type: object
                :properties:
                  meta:
                    :type: object
                    :properties: {}
                  task:
                    :$ref: "#/components/schemas/task"
                :required:
                - task
        :422:
          :description: Unprocessable Entity
          :content:
            :application/json:
              :schema:
                :type: object
                :properties:
                  issues:
                    :type: array
                    :items:
                      :$ref: "#/components/schemas/issue"
  tasks/:id:
    get:
      :operationId: getTask
      :summary: Get task details
      :description: Returns a single task by ID
      :tags:
      - Tasks
      - Tasks
      :responses:
        :200:
          :description: Successful response
          :content:
            :application/json:
              :schema:
                :type: object
                :properties:
                  meta:
                    :type: object
                    :properties: {}
                  task:
                    :$ref: "#/components/schemas/task"
                :required:
                - task
    patch:
      :operationId: updateTask
      :summary: Update a task
      :description: Updates an existing task
      :tags:
      - Tasks
      - Tasks
      :requestBody:
        :required: true
        :content:
          :application/json:
            :schema:
              :type: object
              :properties:
                task:
                  :$ref: "#/components/schemas/taskUpdatePayload"
      :responses:
        :200:
          :description: Successful response
          :content:
            :application/json:
              :schema:
                :type: object
                :properties:
                  meta:
                    :type: object
                    :properties: {}
                  task:
                    :$ref: "#/components/schemas/task"
        :422:
          :description: Unprocessable Entity
          :content:
            :application/json:
              :schema:
                :type: object
                :properties:
                  issues:
                    :type: array
                    :items:
                      :$ref: "#/components/schemas/issue"
    delete:
      :operationId: deleteTask
      :summary: Delete a task
      :description: Permanently removes a task
      :tags:
      - Tasks
      - Tasks
      :responses:
        :204:
          :description: No content
  tasks/:id/archive:
    patch:
      :operationId: archiveTask
      :summary: Archive a task
      :description: Marks a task as archived. Archived tasks are hidden from default
        listings but can still be retrieved.
      :tags:
      - Tasks
      - Tasks
      - Lifecycle
      :deprecated: true
      :responses:
        :200:
          :description: Successful response
          :content:
            :application/json:
              :schema:
                :type: object
                :properties:
                  meta:
                    :type: object
                    :properties: {}
                  task:
                    :$ref: "#/components/schemas/task"
                :required:
                - task
:components:
  :schemas:
    issue:
      :type: object
      :properties:
        code:
          :type: string
        detail:
          :type: string
        field:
          :type: string
        path:
          :type: array
          :items:
            :type: string
      :required:
      - code
      - detail
      - field
      - path
    nullableStringFilter:
      :type: object
      :properties:
        contains:
          :type: string
        endsWith:
          :type: string
        eq:
          :type: string
        in:
          :type: array
          :items:
            :type: string
        'null':
          :type: boolean
        startsWith:
          :type: string
    pagePagination:
      :type: object
      :properties:
        current:
          :type: integer
        items:
          :type: integer
        next:
          :type:
          - integer
          - 'null'
        prev:
          :type:
          - integer
          - 'null'
        total:
          :type: integer
      :required:
      - current
      - items
      - total
    stringFilter:
      :type: object
      :properties:
        contains:
          :type: string
        endsWith:
          :type: string
        eq:
          :type: string
        in:
          :type: array
          :items:
            :type: string
        startsWith:
          :type: string
    task:
      :type: object
      :properties:
        archived:
          :type: boolean
        createdAt:
          :type: string
        description:
          :type: string
        dueDate:
          :type: string
        id:
          :type: string
        priority:
          :type: string
        status:
          :type: string
        title:
          :type: string
        updatedAt:
          :type: string
    taskCreatePayload:
      :type: object
      :properties:
        description:
          :type:
          - string
          - 'null'
        dueDate:
          :type:
          - string
          - 'null'
        priority:
          :type:
          - string
          - 'null'
        status:
          :type:
          - string
          - 'null'
        title:
          :type: string
      :required:
      - title
    taskFilter:
      :type: object
      :properties:
        _and:
          :type: array
          :items:
            :$ref: "#/components/schemas/taskFilter"
        _not:
          :$ref: "#/components/schemas/taskFilter"
        _or:
          :type: array
          :items:
            :$ref: "#/components/schemas/taskFilter"
        priority:
          :oneOf:
          - :type: string
          - :$ref: "#/components/schemas/nullableStringFilter"
        status:
          :oneOf:
          - :type: string
          - :$ref: "#/components/schemas/nullableStringFilter"
    taskInclude:
      :type: object
      :properties: {}
    taskPage:
      :type: object
      :properties:
        number:
          :type: integer
          :minimum: 1
        size:
          :type: integer
          :minimum: 1
          :maximum: 100
    taskSort:
      :type: object
      :properties:
        createdAt: {}
        dueDate: {}
    taskUpdatePayload:
      :type: object
      :properties:
        description:
          :type:
          - string
          - 'null'
        dueDate:
          :type:
          - string
          - 'null'
        priority:
          :type:
          - string
          - 'null'
        status:
          :type:
          - string
          - 'null'
        title:
          :type: string
      :required:
      - title
